<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="style.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>test-Dark_mode</title>
  </head>
  <body>
    <nav>
        <div class="logo">logo</div>
        <span id="btn"> <ion-icon class="click-btn" name="moon-outline"></ion-icon></span>
    </nav>
    <div class="box">
      <h1>hello my friend</h1>
      <p>
        hello my friend my name is abdullah mamdouh i will tell you somethings
        this somethings i think it is very important for you i will tell you i
        am make a new design for website
      </p>
    </div>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
      const darkmodebtn = document.getElementById("btn");
      let theme = localStorage.getItem('theme');
      if (theme === 'dark') enable_dark_mode();
   
      darkmodebtn.addEventListener('click', () => {
         let theme = localStorage.getItem('theme');
         if (theme === 'dark') {
            diable_dark_mode();
  
        }else {
             enable_dark_mode();
         }
      })
      function enable_dark_mode() {
        darkmodebtn.innerHTML =' <ion-icon id= "btn" class="click-btn" name="sunny-outline"></ion-icon>'
            localStorage.setItem('theme' , 'dark');
            document.body.classList.add('dark-mode')
      }
      function diable_dark_mode() {
        darkmodebtn.innerHTML = '<ion-icon id= "btn" class="click-btn" name="moon-outline"></ion-icon>'
            localStorage.setItem('theme', 'light');
            document.body.classList.remove('dark-mode')
      }
      window
      .matchMedia('(prefers-color-scheme: dark)')
      .addListener((e) => (e.matches ? enable_dark_mode() : diable_dark_mode()));

    </script>
  </body>
</html>
